<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DRM JSON Inline Generator</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f9f9f9; padding: 20px; }
    textarea, pre, button { width: 100%; padding: 10px; margin-top: 10px; }
    label { font-weight: bold; display: block; margin-top: 20px; }
  </style>
</head>
<body>

  <h2>DRM JSON Generator (Inline Format)</h2>

  <label for="input">Masukkan data (key1:key2 lalu nama channel):</label>
  <textarea id="input" rows="10" placeholder="Contoh:
keyid:key
iD
</textarea>

  <button onclick="generateJSON()">Generate Inline JSON</button>

  <label for="output">Hasil Format JSON (Inline):</label>
  <pre id="output">{}</pre>

  <script>
    function generateID(length = 6) {
      const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
      let result = '';
      for (let i = 0; i < length; i++) {
        result += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      return result;
    }

    function generateJSON() {
      const input = document.getElementById("input").value.trim();
      const lines = input.split('\n').map(line => line.trim()).filter(line => line !== '');
      const entries = [];

      for (let i = 0; i < lines.length - 1; i += 2) {
        const key = lines[i];
        const name = lines[i + 1];
        if (key.includes(':') && name) {
          const id = generateID();
          const entry = `"${id}": { "name": "${name}", "key": "${key}" }`;
          entries.push(entry);
        }
      }

      const output = entries.join(',\n');
      document.getElementById("output").textContent = output || '{}';
    }
  </script>

</body>
</html>
